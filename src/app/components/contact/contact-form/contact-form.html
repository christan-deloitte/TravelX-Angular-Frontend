<!-- Left column: Contact form -->
<div>
  <div class="form-container">
    <h2>Send us a message</h2>
    <p style="color: var(--gray); margin-bottom: 18px">
      Got a quick question or need help planning? Fill the form and we'll respond shortly.
    </p>

    <form #userForm="ngForm" (ngSubmit)="onSubmit(userForm)">
      <div class="form-row">
        <div class="form-group">
          <label for="cname">Full name *</label>
          <input id="cname" name="cname" type="text" [(ngModel)]="contact.cname" #cname="ngModel"
            placeholder="Your name" required />
          <div class="error-message" id="err-cname" *ngIf="cname.invalid && cname.touched">
            <small *ngIf="cname.errors?.['required']">First Name is required</small>
          </div>
        </div>
        <div class="form-group">
          <label for="cemail">Email *</label>
          <input id="cemail" name="cemail" type="email" [(ngModel)]="contact.cemail" #cemail="ngModel"
            placeholder="you@example.com" required email />
          <div class="error-message" id="err-cemail" *ngIf="cemail.invalid && cemail.touched">
            <small *ngIf="cemail.errors?.['required']">Email is required</small>
            <small *ngIf="cemail.errors?.['email']">Enter a valid email address</small>
          </div>
        </div>

      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="cphone">Phone *</label>
          <input id="cphone" name="cphone" type="tel" [(ngModel)]="contact.cphone" #cphone="ngModel"
            placeholder="XXXXXXXXXX" required pattern="^[0-9]{10}$" />
          <div class="error-message" id="err-cphone" *ngIf="cphone.invalid && cphone.touched">
            <small *ngIf="cphone.errors?.['required']">Phone number is required</small>
            <small *ngIf="cphone.errors?.['pattern']">Enter a valid phone number (10 digits)</small>
          </div>
        </div>

        <div class="form-group">
          <label for="subject">Subject *</label>
          <select id="subject" name="subject" [(ngModel)]="contact.subject" #subject="ngModel" required>
            <option value="">-- Choose subject --</option>
            <option>Booking help</option>
            <option>Change or cancellation</option>
            <option>Group booking</option>
            <option>Corporate enquiry</option>
            <option>Feedback</option>
            <option>Other</option>
          </select>
          <div class="error-message" id="err-subject" *ngIf="subject.invalid && subject.touched">
            <small *ngIf="subject.errors?.['required']">Subject is required</small>
          </div>
        </div>

      </div>

      <div class="form-group">
        <label for="message">Message *</label>
        <textarea id="message" name="message" rows="6" maxlength="1000" [(ngModel)]="contact.message" #message="ngModel"
          placeholder="Write your question or message..." required></textarea>

        <!-- Live character count -->
        <div class="char-count">{{ contact.message.length || 0 }} / 1000</div>

        <!-- Validation errors -->
        <div class="error-message" id="err-message" *ngIf="message.invalid && message.touched">
          <small *ngIf="message.errors?.['required']">Message is required</small>
        </div>
      </div>


      <div class="form-row">
        <div class="form-group">
          <label for="preferredContact">Preferred contact method</label>
          <select id="preferredContact" name="preferredContact" [(ngModel)]="contact.preferredContact">
            <option>Email</option>
            <option>Phone</option>
          </select>
        </div>
        <div class="form-group">
          <label for="attach">Attach file (optional)</label>
          <input id="attach" type="file" accept=".pdf,.jpg,.png,.docx" (change)="onFileChange($event)" />
          <div id="attachName" style="margin-top: 6px; color: var(--gray); font-size: 0.9rem">
            {{ contact.attach ? contact.attach.name : '' }}
          </div>
        </div>

      </div>

      <div style="display: flex; gap: 12px; align-items: center; margin-top: 12px">
        <button type="submit" class="submit-btn">Send Message</button>
        <button type="button" id="clearForm" class="submit-btn" (click)="onReset(userForm)">Clear all Fields</button>
      </div>

    </form>
  </div>
</div>
